---
import type { ContentEntryMap } from 'astro:content';
import { components } from 'src/lib/mdx';
import { getEntry } from 'astro:content';

interface Props {
  collection: keyof ContentEntryMap;
  id: string;
}

// Rename slug to id for Astro 5
const {collection, id: slug} = Astro.props;
const entry = await getEntry({ collection, slug })

if (!entry)
  throw new Error(`Cannot find collection '${collection}/${slug}'`)

const { Content } = await entry.render();

---

<Content {components} />