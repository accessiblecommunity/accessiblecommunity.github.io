---

import { Icon } from 'astro-icon';
import { getEntry } from 'astro:content';

const { q, 'class': extraClasses } = Astro.props;
const quote = await getEntry('quotes', q);
const { Content = 'p' } = await quote?.render();

---

<figure class={extraClasses}>
  <blockquote class="blockquote text-primary">
    <sup aria-hidden="true"><Icon name="quote-left" />&nbsp;</sup>
    <Content />
    <sup aria-hidden="true">&nbsp;<Icon name="quote-right" /></sup>
  </blockquote>
  <figcaption class="blockquote-footer text-primary text-end">{quote?.data.quotee}</figcaption>
</figure>

<style>
[astro-icon="quote-left"],
[astro-icon="quote-right"] {
  height: 0.7em;
}

.blockquote :global(p) {
  display: inline;
}
.blockquote-footer {
  font-size: 1em;
}
</style>