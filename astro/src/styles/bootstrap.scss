@charset "UTF-8";
@use "sass:map";

// Fontsource input
@import "@fontsource-variable/archivo";
@import "@fontsource/atkinson-hyperlegible/400.css";
@import "@fontsource/atkinson-hyperlegible/700.css";

// From https://getbootstrap.com/docs/5.3/customize/sass/#importing
// 1. Include functions first (so you can manipulate colors, SVGs, calc, etc)
@import "bootstrap/scss/functions";

// 2. Include any default variable overrides here
@import "./colors-and-themes";

$font-size-root:              18px;
$font-family-sans-serif:      'Atkinson Hyperlegible', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", "Noto Sans", "Liberation Sans", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji" !default;
$font-weight-bold:            700;

$h1-font-size:                2rem;
$h2-font-size:                1.75rem;
$h3-font-size:                1.5rem;
$h4-font-size:                1.25rem;
$h5-font-size:                1.1rem;
$h6-font-size:                1rem;

$headings-font-family:        'Archivo Variable', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", "Noto Sans", "Liberation Sans", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji" !default;
$headings-font-weight:        400;

$display-font-sizes: (
  1: 4rem,
  2: 3rem,
  3: 2.5rem,
  4: 2rem,
  5: 1.5rem,
  6: 1.25rem,
  65: 1.1rem,
  7: 1rem,
);
$display-font-family: $headings-font-family;
$display-font-weight: 400;

$lead-font-size:              1.25rem;
$lead-font-weight:            400;

//*********************************
//* Breakpoints for Responsiveness
//********************************/
$grid-breakpoints: (
  xxs: 0,
  xs: 400px,
  sm: 576px,
  md: 768px,
  lg: 992px,
  xl: 1200px,
  xxl: 1400px
);

$container-padding-x:  3rem;

//***********************
//* Spacers
//**********************/
$spacer: 1rem;
$spacers: (
  0: 0,
  1: $spacer * .25,
 15: $spacer * .375,
  2: $spacer * .5,
  3: $spacer,
  4: $spacer * 1.5,
  5: $spacer * 3,
);

$enable-smooth-scroll:  false;

//***********************
//* Navbar & Breadcrumbs
//**********************/
$navbar-light-color:                $ac-navy;
$navbar-light-hover-color:          #FFFFFF;
$navbar-light-active-color:         $ac-navy;
// $navbar-light-disabled-color:       rgba(var(--#{$prefix}emphasis-color-rgb), .3) !default;
$navbar-light-brand-color:          $ac-navy;
$navbar-light-brand-hover-color:    #FFFFFF;
$navbar-light-icon-color:           $ac-navy;

$navbar-dark-color:                 #FFFFFF;
$navbar-dark-hover-color:           $ac-navy;
$navbar-dark-active-color:          #FFFFFF;
$navbar-dark-brand-color:           #FFFFFF;
$navbar-dark-brand-hover-color:     $ac-navy;
$navbar-dark-icon-color:            #FFFFFF;

$navbar-brand-font-size:            1.2rem;
$navbar-brand-margin-end:           0.5rem;
$navbar-brand-padding-y:            0;

$nav-link-focus-box-shadow:         none;

$breadcrumb-font-size:              0.9em;
$breadcrumb-margin-bottom:          0;
$breadcrumb-active-color:           $ac-navy;

//************
//* Dropdowns
//***********/
// $dropdown-color:                    var(--#{$prefix}body-color) !default;
// $dropdown-bg:                       var(--#{$prefix}body-bg) !default;
// $dropdown-border-color:             var(--#{$prefix}border-color-translucent) !default;
$dropdown-link-color:               $ac-navy;
$dropdown-link-hover-color:         #FFFFFF;
$dropdown-link-hover-bg:            $ac-navy;
// $dropdown-link-active-color:        $component-active-color !default;
// $dropdown-link-active-bg:           $component-active-bg !default;

// $dropdown-dark-color:               $gray-300 !default;
// $dropdown-dark-bg:                  $gray-800 !default;
// $dropdown-dark-border-color:        $dropdown-border-color !default;
$dropdown-dark-link-color:          #FFFFFF;
$dropdown-dark-link-hover-color:    $ac-navy;
$dropdown-dark-link-hover-bg:       #FFFFFF;
// $dropdown-dark-link-active-color:   $dropdown-link-active-color !default;
// $dropdown-dark-link-active-bg:      $dropdown-link-active-bg !default;
// $dropdown-dark-link-disabled-color: $gray-500 !default;

$blockquote-font-size:            1.25em;
$blockquote-footer-color:         $secondary;  // No dark mode

$btn-hover-bg-shade-amount:       25%;
$btn-hover-bg-tint-amount:        25%;
$btn-hover-border-shade-amount:   30%;
$btn-hover-border-tint-amount:    20%;

//************
// Form inputs
//************

$input-border-width:              1.8px;
$input-border-color:              $info-border-contrast;
$input-focus-border-color:        $info-border-contrast;

$form-check-input-border:         1.8px solid $info-border-contrast;
$form-check-input-border-radius:  0.375rem;

$form-check-input-width:                  1.667em;
$form-check-min-height:                   30px;
$form-check-input-checked-bg-color:       $primary;
$form-check-input-checked-border-color:   $primary;


//********
// Shadows - Tweaked from https://codyhouse.co/nuggets/beautiful-css-shadows
//********
                // inner glow 
$box-shadow-sm: inset 0 0 1px 2px hsla(0, 0%, 100%, 0.125),
                // multiple soft shadows
                0 0.5px 1px hsla(0, 0%, 0%, 0.1),
                0 2px 3px hsla(0, 0%, 0%, 0.2),
                0 0.4rem 0.667rem hsla(0, 0%, 0%, 0.4);

                // inner glow
$box-shadow:    inset 0 0 1px 2px hsla(0, 0%, 100%, 0.125),
                // multiple soft shadows
                0 1px 2px hsla(0, 0%, 0%, 0.1),
                0 4px 7px hsla(0, 0%, 0%, 0.2),
                0 0.6rem 1.2rem hsla(0, 0%, 0%, 0.4);

                // inner glow
$box-shadow-lg: inset 0 0 2px 3px hsla(0, 0%, 100%, 0.125),
                // multiple soft shadows
                0 1.5px 3px hsla(0, 0%, 0%, 0.1),
                0 0.333rem 0.667rem hsla(0, 0%, 0%, 0.2),
                0 1rem 2rem hsla(0, 0%, 0%, 0.4);


// 3. Include remainder of required Bootstrap stylesheets (including any separate color mode stylesheets)
@import "bootstrap/scss/variables";
@import "bootstrap/scss/variables-dark";

// 4. Include any default map overrides here
$custom-colors: (
// TODO: Add in the brand colors only for buttons or other things that we need.
//       Don't generate a bunch of styles that will not be needed.
  "facebook":  #4267B2,
  "instagram": #5B51D8,
  "linkedin":  #2E64BC,
  "mastodon":  #6364FF,
  "paypal":    #253B80, // Dark cornflower blue
  "stripe":    #625BF6, // Stripe Blurple
  "threads":   #000000,
  "twitter":   #1DA1F2,
);
$theme-colors: map-merge($theme-colors, $custom-colors);

// 5a. Include remainder of required parts
@import "bootstrap/scss/maps";
@import "bootstrap/scss/mixins";

//****************
//* Utilities API
//***************/

// The utilities don't pick up additional themes, so we'll add them automatically.
$custom-subtle-themes: [];
$custom-util-text-emphasis-colors: ();
$custom-util-bg-subtle: ();
$custom-util-border-subtle: ();

// CSS Classes to CSS Variables
@each $theme in $custom-subtle-themes {
  $custom-util-text-emphasis-colors: map.set(
    $custom-util-text-emphasis-colors, "#{$theme}-emphasis", "var(--#{$prefix}#{$theme}-text-emphasis)"
  );
  $custom-util-bg-subtle: map.set(
    $custom-util-bg-subtle, "#{$theme}-subtle", "var(--#{$prefix}#{$theme}-bg-subtle)"
  );
  $custom-util-border-subtle: map.set(
    $custom-util-border-subtle, "#{$theme}-subtle", "var(--#{$prefix}#{$theme}-border-subtle)"
  );
}

// New Contrast "style" for themes.
$custom-contrast-themes: info,;
$custom-util-border-contrast: ();

@each $theme in $custom-contrast-themes {
  $custom-util-border-contrast: map.set(
    $custom-util-border-contrast, "#{$theme}-contrast", var(--#{$prefix}#{$theme}-border-contrast)
  );
}

$utilities-text-emphasis-colors: map-merge($utilities-text-emphasis-colors, $custom-util-text-emphasis-colors);
$utilities-bg-subtle: map-merge($utilities-bg-subtle, $custom-util-bg-subtle);
$utilities-border-subtle: map-merge($utilities-border-subtle, $custom-util-border-subtle);
// Not just subtle, this is the repsonsive border map...
$utilities-border-subtle: map-merge($utilities-border-subtle, $custom-util-border-contrast);

@import "bootstrap/scss/utilities";

$utilities: map-merge(
  $utilities,
  (
    "max-height": (
      property: max-height,
      class: mh,
      values: (
        50: 50vh,
        100: 100%,
      )
    ),
  )
);

// CSS Variables to SCSS Variables
// Custom Themes: Light mode.
$custom-colors-text: ();
$custom-colors-bg-subtle: ();
$custom-colors-border-subtle: ();

$theme-colors-text: map-merge($theme-colors-text, $custom-colors-text);
$theme-colors-bg-subtle: map-merge($theme-colors-bg-subtle, $custom-colors-bg-subtle);
$theme-colors-border-subtle: map-merge($theme-colors-border-subtle, $custom-colors-border-subtle);

// Custom Themes: Dark mode
$custom-colors-text-dark: ();
$custom-colors-bg-subtle-dark: ();
$custom-colors-border-subtle-dark: ();

$theme-colors-text-dark: map-merge($theme-colors-text-dark, $custom-colors-text-dark);
$theme-colors-bg-subtle-dark: map-merge($theme-colors-bg-subtle-dark, $custom-colors-bg-subtle-dark);
$theme-colors-border-subtle-dark: map-merge($theme-colors-border-subtle-dark, $custom-colors-border-subtle-dark);

// 5b. Include remainder of required parts
@import "bootstrap/scss/root";
@import "bootstrap/scss/reboot";

// Additional contrast style on themes.
$theme-colors-border-contrast: (
  "info": $info-border-contrast,
);
$theme-colors-border-contrast-dark: (
  "info": $info-border-contrast-dark,
);

:root {
  @each $color, $value in $theme-colors-border-contrast {
    --#{$prefix}#{$color}-border-contrast: #{$value};
  }
}
@include color-mode(dark, true) {
  color-scheme: dark;

  @each $color, $value in $theme-colors-border-contrast-dark {
    --#{$prefix}#{$color}-border-contrast: #{$value};
  }
}

// 6. Optionally include any other parts as needed
//    Match the order from bootstrap/scss/bootstrap.scss
@import "bootstrap/scss/type";
@import "bootstrap/scss/images";
@import "bootstrap/scss/containers";
@import "bootstrap/scss/grid";
@import "bootstrap/scss/forms";
@import "bootstrap/scss/buttons";
@import "bootstrap/scss/transitions";
@import "bootstrap/scss/dropdown";
@import "dropdown-fix";
@import "bootstrap/scss/nav";
@import "bootstrap/scss/navbar";
@import "navbar-fix";
@import "bootstrap/scss/card";
@import "bootstrap/scss/breadcrumb";
@import "bootstrap/scss/list-group";
@import "bootstrap/scss/close";

// 7. Optionally include utilities API last to generate classes based on the Sass map in `_utilities.scss`
@import "bootstrap/scss/helpers";
@import "bootstrap/scss/utilities/api";

// 8. Add additional custom code here
@import "./link-focus-hover";

.bg-primary-alpha-3 {
  @extend .bg-primary;
  --bs-bg-opacity: 0.3;
}

.bg-primary-alpha-6 {
  @extend .bg-primary;
  --bs-bg-opacity: 0.6;
}


body.no-scroll {
  position: fixed;
  overflow: hidden;
  width: 100%;
  height: 100vh;
}

.collapse.show {
  max-height: calc(100dvh - 4rem); /* full screen on mobile minus 64px to account for some room on the bottom part of the screen*/
  overflow-y: auto;
}

.footer-social-link {
  color: #FFFFFF;
}

.text-brand {
  font-family: $headings-font-family;
}

// For long non-breaking links (like email addresses).
.link-truncate {
  @extend .text-truncate;
  @extend .d-inline-block;
  @extend .align-top;
  max-width: 100%;
}

.list-disc li::marker {
  color: $body-color;
}

// Establish a more vertically-spaced list.
.list-spaced li + li {
  margin-top: 0.5em;
}

#mc_embed_signup input.mce_inline_error {
  border-color: $danger-border-subtle !important;
}

// Form Label Utilities
// Place a <span class="asterisk" /> after a label or inside a legend.
// When inside a legend, place a `aria-hidden="true"` attribute on it.
// This is to still mark the fields that are required, but to not have
// the screen reader read "star".
.asterisk {
  color: var(--bs-info-text-emphasis);
  font-weight: 900;
  font-size: 125%;
  line-height: 100%;
}

.required-field + .asterisk {
  margin-left: 0.15em;
}

.required-field > .asterisk {
  margin-left: -0.15em;
}

.required-field + .asterisk::before,
.required-field > .asterisk::before {
  content: "*";
}

img.profile-pic {
  display: inline-block;
  max-width: 3em;
}

// Until the loca11y SVG is squared up
.icon-link svg[data-icon="loca11y-logo"],
svg[data-icon="loca11y-logo"].unpad {
  margin: 0 -0.3em;
}

@include color-mode(dark) {
  .card-title {
    color: $card-title-color-dark;
  }

  .list-disc li::marker {
    color: #FFFFFF;
  }

  .text-linkedin, .text-primary {
    color: white !important;
  }

  textarea, input {
    border-color: #FFFFFF;
  }
}


