@charset "UTF-8";
@use "sass:map";

// Fontsource input
@import "@fontsource-variable/archivo";
@import "@fontsource/atkinson-hyperlegible/400.css";
@import "@fontsource/atkinson-hyperlegible/700.css";

// From https://getbootstrap.com/docs/5.3/customize/sass/#importing
// 1. Include functions first (so you can manipulate colors, SVGs, calc, etc)
@import "bootstrap/scss/functions";

// 2. Include any default variable overrides here
@import "./colors-and-themes";

$font-size-root:              18px;
$font-family-sans-serif:      'Atkinson Hyperlegible', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", "Noto Sans", "Liberation Sans", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji" !default;
$font-weight-bold:            700;

$h1-font-size:                2rem;
$h2-font-size:                1.75rem;
$h3-font-size:                1.5rem;
$h4-font-size:                1.25rem;
$h5-font-size:                1.1rem;
$h6-font-size:                1rem;

$headings-font-family:        'Archivo Variable', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", "Noto Sans", "Liberation Sans", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji" !default;
$headings-font-weight:        400;

$display-font-sizes: (
  1: 4rem,
  2: 3rem,
  3: 2.5rem,
  4: 2rem,
  5: 1.5rem,
  6: 1.25rem,
  65: 1.1rem,
  7: 1rem,
);
$display-font-family: $headings-font-family;
$display-font-weight: 400;

$lead-font-size:              1.25rem;
$lead-font-weight:            400;

//*********************************
//* Breakpoints for Responsiveness
//********************************/
$grid-breakpoints: (
  xxs: 0,
  xs: 400px,
  sm: 576px,
  md: 768px,
  lg: 992px,
  xl: 1200px,
  xxl: 1400px
);

//***********************
//* Navbar & Breadcrumbs
//**********************/
// $navbar-light-color:                rgba(var(--#{$prefix}emphasis-color-rgb), .65) !default;
$navbar-light-hover-color:          #0821AD;  // TODO: Fix
$navbar-light-active-color:         $ac-navy;
// $navbar-light-disabled-color:       rgba(var(--#{$prefix}emphasis-color-rgb), .3) !default;
$navbar-light-icon-color:           $ac-navy;

$navbar-light-brand-color:          $ac-navy;
$navbar-light-brand-hover-color:    #0821AD;  // TODO: Fix
// $navbar-dark-brand-color:           $navbar-dark-active-color !default;
// $navbar-dark-brand-hover-color:     $navbar-dark-active-color !default;
$navbar-dark-icon-color:            white;

$navbar-brand-font-size:            1.2rem;
$navbar-brand-margin-end:           0.5rem;
$navbar-brand-padding-y:            0;

$breadcrumb-font-size:              0.9em;
$breadcrumb-margin-bottom:          0;

//************
//* Dropdowns
//***********/
// $dropdown-color:                    var(--#{$prefix}body-color) !default;
// $dropdown-bg:                       var(--#{$prefix}body-bg) !default;
// $dropdown-border-color:             var(--#{$prefix}border-color-translucent) !default;
// $dropdown-link-color:               var(--#{$prefix}body-color) !default;
// $dropdown-link-hover-color:         $dropdown-link-color !default;
// $dropdown-link-hover-bg:            var(--#{$prefix}tertiary-bg) !default;
// $dropdown-link-active-color:        $component-active-color !default;
// $dropdown-link-active-bg:           $component-active-bg !default;

// $dropdown-dark-color:               $gray-300 !default;
// $dropdown-dark-bg:                  $gray-800 !default;
// $dropdown-dark-border-color:        $dropdown-border-color !default;
// $dropdown-dark-link-color:          $dropdown-dark-color !default;
// $dropdown-dark-link-hover-color:    $white !default;
// $dropdown-dark-link-hover-bg:       rgba($white, .15) !default;
// $dropdown-dark-link-active-color:   $dropdown-link-active-color !default;
// $dropdown-dark-link-active-bg:      $dropdown-link-active-bg !default;
// $dropdown-dark-link-disabled-color: $gray-500 !default;

$blockquote-font-size:            1.25em;
$blockquote-footer-color:         $secondary;  // No dark mode

$btn-hover-bg-shade-amount:       25%;
$btn-hover-bg-tint-amount:        25%;
$btn-hover-border-shade-amount:   30%;
$btn-hover-border-tint-amount:    20%;

$code-color:                  #590455;
// $code-color-dark:             tint-color($code-color, 40%) !default;

$container-padding-x:  3rem;

//********
// Shadows - Tweaked from https://codyhouse.co/nuggets/beautiful-css-shadows
//********
                // inner glow 
$box-shadow-sm: inset 0 0 1px 2px hsla(0, 0%, 100%, 0.125),
                // multiple soft shadows
                0 0.5px 1px hsla(0, 0%, 0%, 0.1),
                0 2px 3px hsla(0, 0%, 0%, 0.2),
                0 0.4rem 0.667rem hsla(0, 0%, 0%, 0.4);

                // inner glow
$box-shadow:    inset 0 0 1px 2px hsla(0, 0%, 100%, 0.125),
                // multiple soft shadows
                0 1px 2px hsla(0, 0%, 0%, 0.1),
                0 4px 7px hsla(0, 0%, 0%, 0.2),
                0 0.6rem 1.2rem hsla(0, 0%, 0%, 0.4);

                // inner glow
$box-shadow-lg: inset 0 0 2px 3px hsla(0, 0%, 100%, 0.125),
                // multiple soft shadows
                0 1.5px 3px hsla(0, 0%, 0%, 0.1),
                0 0.333rem 0.667rem hsla(0, 0%, 0%, 0.2),
                0 1rem 2rem hsla(0, 0%, 0%, 0.4);


// 3. Include remainder of required Bootstrap stylesheets (including any separate color mode stylesheets)
@import "bootstrap/scss/variables";
@import "bootstrap/scss/variables-dark";

// 4. Include any default map overrides here
$custom-colors: (
// TODO: Add in the brand colors only for buttons or other things that we need.
//       Don't generate a bunch of styles that will not be needed.
  "facebook":  #4267B2,
  "instagram": #5B51D8,
  "linkedin":  #2E64BC,
  "mastodon":  #6364FF,
  "paypal":    #253B80, // Dark cornflower blue
  "stripe":    #625BF6, // Stripe Blurple
  "threads":   #000000,
  "twitter":   #1DA1F2,
);
$theme-colors: map-merge($theme-colors, $custom-colors);

// 5a. Include remainder of required parts
@import "bootstrap/scss/maps";
@import "bootstrap/scss/mixins";

//****************
//* Utilities API
//***************/

// The utilities don't pick up additional themes, so we'll add them automatically.
$custom-subtle-themes: [];
$custom-util-text-emphasis-colors: ();
$custom-util-bg-subtle: ();
$custom-util-border-subtle: ();

@each $theme in $custom-subtle-themes {
  $custom-util-text-emphasis-colors: map.set(
    $custom-util-text-emphasis-colors, "#{$theme}-emphasis", "var(--#{$prefix}#{$theme}-text-emphasis)"
  );
  $custom-util-bg-subtle: map.set(
    $custom-util-bg-subtle, "#{$theme}-subtle", "var(--#{$prefix}#{$theme}-bg-subtle)"
  );
  $custom-util-border-subtle: map.set(
    $custom-util-border-subtle, "#{$theme}-subtle", "var(--#{$prefix}#{$theme}-border-subtle)"
  );
}

$utilities-text-emphasis-colors: map-merge($utilities-text-emphasis-colors, $custom-util-text-emphasis-colors);
$utilities-bg-subtle: map-merge($utilities-bg-subtle, $custom-util-bg-subtle);
$utilities-border-subtle: map-merge($utilities-border-subtle, $custom-util-border-subtle);

@import "bootstrap/scss/utilities";

$utilities: map-merge(
  $utilities,
  (
    "max-height": (
      property: max-height,
      class: mh,
      values: (
        50: 50vh,
        100: 100%,
      )
    ),
  )
);

// Custom Themes: Light mode.
$custom-colors-text: ();
$custom-colors-bg-subtle: ();
$custom-colors-border-subtle: ();

$theme-colors-text: map-merge($theme-colors-text, $custom-colors-text);
$theme-colors-bg-subtle: map-merge($theme-colors-bg-subtle, $custom-colors-bg-subtle);
$theme-colors-border-subtle: map-merge($theme-colors-border-subtle, $custom-colors-border-subtle);

// Custom Themes: Dark mode
$custom-colors-text-dark: ();
$custom-colors-bg-subtle-dark: ();
$custom-colors-border-subtle-dark: ();

$theme-colors-text-dark: map-merge($theme-colors-text-dark, $custom-colors-text-dark);
$theme-colors-bg-subtle-dark: map-merge($theme-colors-bg-subtle-dark, $custom-colors-bg-subtle-dark);
$theme-colors-border-subtle-dark: map-merge($theme-colors-border-subtle-dark, $custom-colors-border-subtle-dark);

// 5b. Include remainder of required parts
@import "bootstrap/scss/root";
@import "bootstrap/scss/reboot";

// 6. Optionally include any other parts as needed
//    Match the order from bootstrap/scss/bootstrap.scss
@import "bootstrap/scss/type";
@import "bootstrap/scss/images";
@import "bootstrap/scss/containers";
@import "bootstrap/scss/grid";
@import "bootstrap/scss/buttons";
@import "bootstrap/scss/transitions";
@import "bootstrap/scss/dropdown";
@import "bootstrap/scss/nav";
@import "bootstrap/scss/navbar";
@import "navbar-fix";
@import "bootstrap/scss/card";
@import "bootstrap/scss/breadcrumb";
@import "bootstrap/scss/list-group";
@import "bootstrap/scss/close";
@import "bootstrap/scss/placeholders";

// 7. Optionally include utilities API last to generate classes based on the Sass map in `_utilities.scss`
@import "bootstrap/scss/helpers";
@import "bootstrap/scss/utilities/api";

// 8. Add additional custom code here

.bg-primary-alpha-3 {
  @extend .bg-primary;
  --bs-bg-opacity: 0.3;
}

.bg-primary-alpha-6 {
  @extend .bg-primary;
  --bs-bg-opacity: 0.6;
}

*:focus-visible, .form-field:focus, .toggle-menu:focus, .navbar-toggler:focus, .nav-link:focus-visible {
  outline: 3px dashed $primary;
  outline-offset: 0.025em;
  box-shadow: none;
  border-radius: 2%;
}

.hero-link:focus-visible, .link-light:focus-visible {
  outline-color: #FFFFFF;
}

.dropdown-item:focus-visible {
  outline-offset: -0.15em;
}

.btn:focus-visible {
  outline: 3px dashed $primary;
  outline-offset: 0.25rem;
  box-shadow: none;
  border-radius: 0.375rem;
}

.hero-link:focus-visible, .hero-button:focus-visible {
  outline-color: #FFFFFF;
}

.form-field:focus {
  border-style: solid;
}

.breadcrumb-item, .breadcrumb-item.active, .nav-link, .dropdown-item, .dropdown-item:hover {
  color: #000000;
}

.dropdown-item:hover {
  background-color: $body-tertiary-bg;
}

.text-brand {
  font-family: $headings-font-family;
}

.list-disc li::marker {
  color: $body-color;
}

textarea, input {
  border-width: 1.5px 1.5px;
  border-color: #000000;
}

input[type=checkbox], input[type=radio] {
  accent-color: #041058;
}

.check {
  border-image-width: 2;
}

// Form Label Utilities
// Place a <span class="asterisk" /> after a label or inside a legend.
// When inside a legend, place a `aria-hidden="true"` attribute on it.
// This is to still mark the fields that are required, but to not have
// the screen reader read "star".
.asterisk {
  color: var(--bs-info-text-emphasis);
  font-weight: 900;
  font-size: 125%;
  line-height: 100%;
}
.required-field + .asterisk {
  margin-left: 0.15em;
}
.required-field > .asterisk {
  margin-left: -0.15em;
}
.required-field + .asterisk::before,
.required-field > .asterisk::before {
  content: "*";
}

img.profile-pic {
  display: inline-block;
  max-width: 3em;
}

// Until the loca11y SVG is squared up
.icon-link svg[data-icon="loca11y-logo"],
svg[data-icon="loca11y-logo"].unpad {
  margin: 0 -0.3em;
}

@include color-mode(dark) {
  *:focus-visible, .form-field:focus, .toggle-menu:focus, .navbar-toggler:focus, .btn:focus-visible, .nav-link:focus-visible {
    outline-color: #FFFFFF;
  }

  // TODO: Fix this.
  .text-primary {
    color: var(--bs-light) !important;
  }

  // TODO: Move breadcrumb and dropdowns to use Bootstrap SASS Variables
  .breadcrumb-item, .breadcrumb-item.active, .nav-link, .dropdown-item, .dropdown-item:hover {
    color: #FFFFFF;
  }

  .dropdown-item:hover {
    background-color: $body-tertiary-bg-dark;
  }

  .general-button {
    color: #041058;
    background-color: #FFFFFF;
  }

  .general-button:focus {
    color: #041058;
    background-color: #FFFFFF;
  }

  .general-button:hover {
    color: #041058;
    background-color: $body-tertiary-bg;
  }

  .nav-link:hover {
    color: $body-tertiary-bg;
  }

  .list-disc li::marker {
    color: #FFFFFF;
  }

  textarea, input {
    border-color: #FFFFFF;
  }

  .bi {  // blue-30
    filter: brightness(0) saturate(100%) invert(71%) sepia(19%) saturate(851%) hue-rotate(172deg) brightness(91%) contrast(95%);
  }
}


