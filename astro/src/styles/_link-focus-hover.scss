/*******************************************/
/* Keyboard focus and hover customizations */
/*******************************************/

// TODO: Original Code that needs to be cleaned up.

.hero-link:focus-visible, .link-light:focus-visible {
  outline-color: #FFFFFF;
//   outline-color: #FFFFFF;
}


.btn:focus-visible {
  outline: 2px solid $primary;
  outline-offset: 2px;
  box-shadow: none;
  border-radius: 0.375rem;
}

.hero-link:focus-visible, .hero-button:focus-visible, .footer-social-link:focus-visible {
  outline-color: #FFFFFF;
}

.form-field:focus {
  border-color: $info-border-contrast;
  border-style: solid;
  border-radius: 0.375rem;
  outline-offset: 2px;
}

.form-check-input:focus {
  outline: 2px solid $primary;
  outline-offset: 2px;
  box-shadow: none;
}

.form-control:focus-visible {
  outline: 2px solid $primary;
  box-shadow: none;
  border-radius: 0.375rem;
}

.form-check-input:focus-visible {
  outline: 2px solid $primary;
  outline-offset: 2px;
  box-shadow: none;
}

.footer-social-link:hover {
  color: #FFFFFF;
  background-color: $primary;
}

.footer-link:hover, .link-light:hover {
  color: $primary !important;
  background-color: #FFFFFF !important;
  text-decoration-color: var(--bs-primary) !important;
}

.bio-social-link:hover {
  background-color: $body-tertiary-bg;
}

.icon-link {
  text-underline-offset: 0.1em;
  text-decoration-color: currentColor;
}


@include color-mode(dark) {
  *:focus-visible, .form-field:focus, .form-check-input:focus, .form-check-input:focus-visible, .navbar-toggler:focus, .btn:focus-visible, .nav-link:focus-visible, .form-control:focus-visible {
    outline-color: #FFFFFF;
  }

  // .nav-link:focus {
  //   color: #FFFFFF;
  // }

  // .dropdown-item:focus-visible {
  //   // outline-offset: -0.15em;
  //   background-color: var(--bs-dropdown-bg);
  // }

  // *a:hover, .navbar-nav .nav-link:hover, li > .dropdown-item:hover, .link-light:hover {
  //   color: $primary;
  //   background-color: #FFFFFF;
  //   text-decoration-color: $primary;
  // }

  .bio-social-link:hover {
    background-color: $body-tertiary-bg-dark;
  }

  .form-field:focus {
    border-color: $info-border-contrast-dark;
  }

  // TODO: Move breadcrumb and dropdowns to use Bootstrap SASS Variables
  // .nav-link, .dropdown-item, .dropdown-item:hover {
  //   color: #FFFFFF;
  // }

  .form-control,.form-control:focus, .form-check-input, .form-check-input:focus {
    border-color: $info-border-contrast-dark;
  }

  .form-check-input:checked {
    border-color: $info-border-contrast-dark;
  }

  // .bi {  // blue-30
  //   filter: brightness(0) saturate(100%) invert(71%) sepia(19%) saturate(851%) hue-rotate(172deg) brightness(91%) contrast(95%);
  // }
}


// New focus/hover code utilizing bootstrap CSS variables to be generic

a {
  --ac-link-hover-bg: var(--bs-link-color);

  &:focus-visible {
    outline: 2px solid var(--bs-link-color);
    outline-offset: 2px;
    box-shadow: none;
    text-decoration: none;
  }
  &:hover {
    --bs-link-color-rgb: var(--bs-link-hover-color-rgb);
    background-color: var(--ac-link-hover-bg);
    transition: all 0.1s ease-in;
  }
}
@include color-mode(dark) {
  a {
    --bs-link-hover-color-rgb: var(--bs-primary-rgb);
    --ac-link-hover-bg: #ffffff;
  }
}

.navbar-nav {
  .nav-link {
    &:focus-visible {
      color: var(--bs-nav-link-color); // Override hover color on focus
      outline: 2px solid var(--bs-nav-link-color);
    }
    &:hover {
      color: var(--bs-navbar-hover-color); // Override focus color on hover
      --ac-link-hover-bg: var(--bs-navbar-brand-color);
    }    
  }
}

.navbar-brand {
  --bs-link-color: var(--bs-navbar-brand-color);
  --ac-link-hover-bg: var(--bs-navbar-brand-color);

  &:focus {
    color: var(--bs-navbar-brand-color); // Override hover color on focus
  }
  &:hover {
    color: var(--bs-navbar-brand-hover-color); // Override focus color on hover
  }
}
.navbar-toggler:focus {
  border-radius: 0.375rem !important;
}

.dropdown-item {
  --bs-link-color: var(--bs-dropdown-link-color);

  &:focus-visible {
    background-color: var(--bs-dropdown-bg);
    color: var(--bs-dropdown-link-color);
    outline-color: var(--bs-dropdown-link-color);
    outline-offset: -0.15em;
  }
  &:hover {
    color: var(--#{$prefix}dropdown-link-hover-color); // Override focus color on hover
    @include gradient-bg(var(--bs-dropdown-link-hover-bg)); // Override focus bg on hover
  }
}
